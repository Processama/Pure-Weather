# Pure-Weather
该项目是基于第一行代码的最后项目所进行个人改造的，已经完成了基本功能，期待后续界面或更多功能的完善。
作者提供的服务器只有获取城市的数据还能用，和风天气把获取天气的json数据格式改了，故要自己去看和风天气的api进行修改。
使用和风天气api时，我使用的是webapi，因为可以直接通过Okhttp发送https请求获取天气的json数据，再通过Gson将其映射成为相应的类，最后通过数据给各个布局中的控件赋值。
该项目基本完成了，主要的难点在于：首先全国数据的遍历，是通过作者给出的网站获取json数据解析；接着查询天气信息，同样是获取json数据，但作者提供的网站不是真正的数据，仅供练习；再第三个难点是手动刷新，通过RefreshLayout来实现，设置监听器，刷新就通过weatherId重新获取一下json数据；再就是选择其他城市，通过DrawLayout实现，第一个子控件为内容，第二个子控件为滑动菜单，滑动菜单设置为之前遍历城市的Fragment；最后的难点就是后台更新数据，通过后台服务，通过AlarmManager来设置一段时间后更新数据。 因为现在的天气信息数据都是作者提供学习的，故接下来的工作是将和风天气api提供的真实数据获取过来。 经过数小时修改，通过和风天气的webapi发送https请求获取到了实时的天气数据，不过json数据的格式不同于之前模拟数据，故进行了修改。终于完成了这个项目。
